
/*
TSR - PRODUCT AND SERVICE LISTING
*/ 


;(function(document,$) {


    window.tsrProductAndServiceListing = window.tsrProductAndServiceListing || {};

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// TSR - Init
/////////////////////////////////////////////////////////////////////////////////////////////////////////


    tsrProductAndServiceListing.tsrInit = function() {
     
     	tsrProductAndServiceListing.tsrEqualHeights();	

    };


  
/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// TSR - Equal heights
/////////////////////////////////////////////////////////////////////////////////////////////////////////

	// Thanks Paul Irish
	$.fn.setAllToMaxHeight = function(){
		return this.height( Math.max.apply(this, $.map( this , function(e){ return $(e).height() }) ) );
	}


/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// TSR - Equal heights
/////////////////////////////////////////////////////////////////////////////////////////////////////////

    tsrProductAndServiceListing.tsrEqualHeights = function () {


	   var toBeCalculated = $('.tsr-section-productAndService-listing');

		if (toBeCalculated != null && toBeCalculated.length > 0) {
			for (var i = 0; i < toBeCalculated.length; i++) {
				var bw = $('body').width();
				var el = toBeCalculated[i];

				if (bw >= 600) {
					// Product 
					$('.tsr-product-header', el).css('height', 'auto').setAllToMaxHeight();
					$('.tsr-product-colors', el).css('height', 'auto').setAllToMaxHeight();
					$('.tsr-product-desc', el).css('height', 'auto').setAllToMaxHeight();
					$('.tsr-product-price', el).css('height', 'auto').setAllToMaxHeight();
					$('.tsr-product-small-print', el).css('height', 'auto').setAllToMaxHeight();
				} else {
					// Product 
					$('.tsr-product-header', el).css('height', 'auto');
					$('.tsr-product-colors', el).css('height', 'auto');
					$('.tsr-product-desc', el).css('height', 'auto');
					$('.tsr-product-price', el).css('height', 'auto');
					$('.tsr-product-small-print', el).css('height', 'auto');
				}
			}
		}

    };



/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// Ready
/////////////////////////////////////////////////////////////////////////////////////////////////////////

    $(document).on('ready', function(){

        tsrProductAndServiceListing.tsrInit();
      
    });

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// Scroll
/////////////////////////////////////////////////////////////////////////////////////////////////////////

    $(document).on('scroll', function(){
            
    });

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// Resize
/////////////////////////////////////////////////////////////////////////////////////////////////////////


	// jquery.debouncing.js, thanks Paul Irish

    $(window).smartresize(function(){
  		tsrProductAndServiceListing.tsrEqualHeights();	
	});

/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////

})(document,jQuery);

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// END
/////////////////////////////////////////////////////////////////////////////////////////////////////////

